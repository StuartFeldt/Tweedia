(function(){var e=new Object;window.Tweedia=e={extractImages:function(e,t){if(e.entities.media!==undefined&&e.entities.media.length>0){for(var n in e.entities.media){if(e.entities.media[n].media_url.indexOf("jpg")!==-1||e.entities.media[n].media_url.indexOf("png")!==-1||e.entities.media[n].media_url.indexOf("gif")!==-1){t(e.entities.media[n].media_url)}}}else if(e.entities.urls!==undefined&&e.entities.urls.length>0){for(var r in e.entities.urls){if(e.entities.urls[r].expanded_url.indexOf("jpg")!==-1||e.entities.urls[r].expanded_url.indexOf("png")!==-1||e.entities.urls[r].expanded_url.indexOf("gif")!==-1){t(e.entities.urls[r].expanded_url)}if(e.entities.urls[r].expanded_url.indexOf("instagram")!==-1){this.getInstagram(e.entities.urls[r].expanded_url,function(e){t(e)})}}}else{t(-1)}},extractImagesHTML:function(e,t,n){this.extractImages(e,function(e){var r=document.createElement("img");r.setAttribute("src",e);if(t.width!==undefined){r.setAttribute("width",t.width)}if(t.height!==undefined){r.setAttribute("height",t.height)}if(t.class!==undefined){r.className+=" "+t.class}n(r)})},extractVideoHTML:function(e,t,n){if(e.entities.urls!==undefined&&e.entities.urls.length>0){for(var r in e.entities.urls){if(e.entities.urls[r].expanded_url.indexOf("youtu")!==-1){var i=e.entities.urls[r].expanded_url.split("/");i=i[i.length-1].split("?v=");var s=document.createElement("iframe");s.setAttribute("src","http://www.youtube.com/embed/"+i[i.length-1]+"enablejsapi=1&playerapiid=ytplayer&version=3&cc_load_policy=0&iv_load_policy=3&modestbranding=1");s.setAttribute("frameborder",0);if(t.width!==undefined){s.setAttribute("width",t.width)}if(t.height!==undefined){s.setAttribute("height",t.height)}if(t.class!==undefined){s.className+=" "+t.class}n(s)}if(e.entities.urls[r].expanded_url.indexOf("vine.co")!==-1){var i=e.entities.urls[r].expanded_url.split("/");var o=document.createElement("div");var u=document.createElement("iframe");u.setAttribute("src","https://vine.co/v/"+i[i.length-1]+"/card");if(t.width!==undefined){u.setAttribute("width",t.width);o.setAttribute("width",t.width)}if(t.height!==undefined){u.setAttribute("height",t.height);o.setAttribute("height",t.height)}if(t.class!==undefined){o.className+=" "+t.class}o.appendChild(u);o.innerHTML+='<script async src="//platform.vine.co/static/scripts/embed.js" charset="utf-8"></script>';n(o)}}}},getInstagram:function(e,t){$.ajax({url:"http://api.instagram.com/oembed?url="+e,dataType:"jsonp",success:function(e){t(e.url)}})}}}).call(this)